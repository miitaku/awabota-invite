<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <!-- ã‚»ãƒ¼ãƒ•ã‚¨ãƒªã‚¢å¯¾å¿œ & iOSã®ã‚ºãƒ¼ãƒ æŒ™å‹•å®‰å®šåŒ– -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>awabotaå…¬å¼ï½œLINEç™»éŒ²ç‰¹å…¸ãƒšãƒ¼ã‚¸</title>

  <!-- Brand / SEO -->
  <meta name="description" content="awabotaå…¬å¼ã®LINEç™»éŒ²ç‰¹å…¸ã€‚awabotaãŒã‚ˆãã‚ã‹ã‚‹é™å®šå‹•ç”»ã‚’ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã€‚">
  <meta property="og:title" content="awabotaå…¬å¼ï½œLINEç™»éŒ²ç‰¹å…¸ãƒšãƒ¼ã‚¸">
  <meta property="og:description" content="é™å®šå‹•ç”»ã‚’ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã€‚å…¬å¼LINEç™»éŒ²å¾Œã™ãå·®ã—ä¸Šã’ã¾ã™ã€‚">
  <meta property="og:type" content="website">
  <meta property="og:image" content="/images/line-ogp.jpg">
  <meta name="theme-color" content="#105a8e">

  <style>
    :root{
      --brand:#105a8e; --accent:#ff7a00; --line:#00C300;
      --ink:#222; --muted:#777; --radius:14px; --shadow:0 8px 30px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    html, body{ width:100%; overflow-x:hidden; -webkit-text-size-adjust:100%; }
    body{ margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, "ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ ProN", "Noto Sans JP", sans-serif; color:var(--ink); background:#fff; }
    img, video, canvas, svg{ max-width:100%; height:auto; display:block; }

    .wrap{
      max-width:640px; margin:auto; padding:20px 16px 120px;
      padding-left:  max(16px, env(safe-area-inset-left));
      padding-right: max(16px, env(safe-area-inset-right));
    }

    /* header */
    .brand{ display:flex; align-items:center; gap:12px; padding:12px 10px; margin:4px auto 10px; border-radius:12px;}
    .brand img.logo{width:50px; height:50px; object-fit:contain;}
    .brand .meta{line-height:1.25}
    .badge{ display:inline-flex; align-items:center; gap:6px; padding:3px 8px; border-radius:999px; font-size:.82rem; font-weight:700; color:#fff; background:var(--brand);}

    /* hero */
    .hero{ background:linear-gradient(180deg, #f6fbff 0%, #ffffff 65%); border:1px solid #eef4fa; border-radius:var(--radius); box-shadow:var(--shadow); padding:22px 18px; margin:10px 0 18px;}
    h1{font-size:1.28rem; margin:0 0 8px; line-height:1.35; text-wrap:balance; word-break:keep-all; -webkit-hyphens:none; hyphens:none;}
    .lead{font-size:1rem; color:var(--ink); line-height:1.8}
    .lead b{color:#c60000}
    .em-red{color:#c60000; font-weight:800; background:linear-gradient(transparent 70%, #ffe6e6 0); padding:0 2px;}
    .lead.tight{ text-wrap:pretty; word-break:keep-all; }
    .spbr{ display:none; }         /* ã‚¹ãƒãƒ›ã ã‘æ”¹è¡Œ */
    @media (max-width:480px){ .spbr{ display:inline; } }

    /* sections */
    .section{ border:1px solid #f0f0f0; border-radius:var(--radius); padding:16px; margin:16px 0;}
    .section h2{font-size:1.05rem; margin:0 0 10px;}
    ul.benefits{list-style:none; padding:0; margin:0}
    ul.benefits li{display:flex; gap:8px; padding:8px 0; border-top:1px dashed #eee}
    ul.benefits li:first-child{border-top:0}
    .icon{font-size:1.1rem}
    .refchip{ display:inline-flex; align-items:center; gap:6px; background:#f4f7fb; color:#456; font-size:.86rem; padding:6px 10px; border-radius:999px; border:1px solid #e6edf6; margin-top:8px;}
    .trust{ display:grid; gap:8px; grid-template-columns:repeat(2,1fr);}
    .trust .card{ border:1px solid #eef2f7; border-radius:12px; padding:12px; background:#fafcff; font-size:.9rem;}

    /* sliderï¼ˆæ¨ªã¯ã¿å‡ºã—å¯¾ç­–å«ã‚€ï¼‰ */
    .slider{
      position: relative; border:1px solid #eee; border-radius:12px; overflow:hidden;
      box-shadow: var(--shadow); background:#fff; margin:14px 0;
    }
    .slider .slides{
      position: relative; width:100%; height:0; padding-bottom:calc(56.25% + 2px); /* 16:9 + èª¤å·®ãƒãƒƒãƒ•ã‚¡ */
    }
    .slider .slide{
      position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
      opacity:0; transition: opacity .6s ease; /* transformã¯å¤–ã—ã¦ã¯ã¿å‡ºã—é˜²æ­¢ */
    }
    .slider .slide.is-active{ opacity:1; }
    .slider .dots{ position:absolute; left:50%; bottom:10px; transform:translateX(-50%); display:flex; gap:8px; z-index:5; }
    .slider .dot{ width:8px; height:8px; border-radius:50%; background:rgba(255,255,255,.6); border:1px solid rgba(0,0,0,.15); cursor:pointer;}
    .slider .dot.is-active{ background:#fff; }
    .slider .nav{
      position:absolute; top:50%; transform:translateY(-50%); width:34px; height:34px; border-radius:50%;
      border:none; background:rgba(255,255,255,.75); box-shadow:0 2px 8px rgba(0,0,0,.12);
      cursor:pointer; z-index:5; font-size:22px; line-height:34px;
    }
    .slider .nav.prev{ left:10px; } .slider .nav.next{ right:10px; }
    @media (prefers-reduced-motion: reduce){ .slider .slide{ transition:none; } }

    /* CTAï¼ˆã‚»ãƒ¼ãƒ•ã‚¨ãƒªã‚¢å¯¾å¿œï¼‰ */
    .cta{
      position:fixed; inset:auto 0 0; background:#fff; border-top:1px solid #eee; box-shadow:0 -8px 24px rgba(0,0,0,.06);
      padding:12px 16px;
      padding-left:  max(12px, env(safe-area-inset-left));
      padding-right: max(12px, env(safe-area-inset-right));
      padding-bottom:max(12px, env(safe-area-inset-bottom));
    }
    .cta .row{max-width:640px; width:100%; margin:auto; display:flex; gap:10px; align-items:center; justify-content:space-between;}
    .cta p{margin:0; font-size:.92rem; color:#444}
    .cta img.cta-img{ height:60px; border-radius:12px; display:block; }

    @media (min-width:640px){ h1{font-size:1.38rem} }
  </style>
</head>
<body>
  <main class="wrap">
    <!-- å…¬å¼ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <div class="brand">
      <img class="logo" src="/images/awabotalogo.jpg" alt="awabotaå…¬å¼ãƒ­ã‚´">
      <div class="meta">
        <div class="badge">awabota å…¬å¼</div>
        <div style="font-size:.9rem; color:#506070; margin-top:4px;">LINEç™»éŒ²ç‰¹å…¸ã®ã”æ¡ˆå†…ãƒšãƒ¼ã‚¸</div>
      </div>
    </div>

    <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ -->
    <section class="hero">
      <h1>
        ğŸ”µ ä»Šã ã‘é™å®šï½œ<wbr>
        <span class="em-red">LINEç™»éŒ²ã§<wbr>ç‰¹å…¸å‹•ç”»ã‚’<wbr>ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ</span>
      </h1>
      <p class="lead">
        å…¬å¼LINEã«ã”ç™»éŒ²ã„ãŸã ã„ãŸæ–¹ã¸ã€
        <span class="em-red">ã€Œæ–°ã—ã„äººç”Ÿã‚’å¾—ã‚‹ãŸã‚ã®ç¬¬ä¸€æ­©ã€</span>ã¨ãªã‚‹ç‰¹åˆ¥ãªç‰¹å…¸ã‚’ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆä¸­ã€‚ç™»éŒ²å¾Œã™ãã«LINEã§ãŠå±Šã‘ã—ã¾ã™ã€‚
      </p>

      <!-- ç‰¹å…¸ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼šè‡ªå‹•ã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼ï¼ˆ/images/1.jpgã€œ4.jpgï¼‰ -->
      <div class="slider" aria-roledescription="carousel" aria-label="ç‰¹å…¸ã®ã‚¤ãƒ¡ãƒ¼ã‚¸">
        <div class="slides">
          <img class="slide is-active" src="/images/1.jpg?v=1" alt="ç‰¹å…¸1" loading="eager">
          <img class="slide" src="/images/2.jpg?v=1" alt="ç‰¹å…¸2" loading="lazy">
          <img class="slide" src="/images/3.jpg?v=1" alt="ç‰¹å…¸3" loading="lazy">
          <img class="slide" src="/images/4.jpg?v=1" alt="ç‰¹å…¸4" loading="lazy">
        </div>
        <div class="dots" role="tablist" aria-label="ã‚¹ãƒ©ã‚¤ãƒ‰é¸æŠ"></div>
        <button class="nav prev" aria-label="å‰ã®ç”»åƒ">â€¹</button>
        <button class="nav next" aria-label="æ¬¡ã®ç”»åƒ">â€º</button>
      </div>

      <p class="lead tight" style="margin-top:6px">
        ã‚ãªãŸã®ã€Œè¡Œå‹•ã€ãŒæœªæ¥ã®ã€Œè³‡ç”£ã€ã«å¤‰ã‚ã‚‹
        ç§˜å¯†ã‚’å…¬é–‹ï¼<br class="spbr">
        Web5ã®æœ€å…ˆç«¯æŠ€è¡“ã¨AIãŒèåˆã—ãŸ awabota ã®ä¸–ç•Œã§ã€<br class="spbr">
        ã€Œã‚ãªãŸã®æ—¥å¸¸ã®ã€è¡Œå‹•ã€ãŒ ã„ã‹ã«ã—ã¦<wbr>ã€ä¸–ç•Œã§é€šç”¨ã™ã‚‹ä¿¡ç”¨ã€ã¨<wbr>ã€æœªæ¥ã®è³‡ç”£ã€ã«å¤‰ã‚ã‚‹ã®ã‹ã€<br class="spbr">
        ãã®å…¨è²Œã‚’ãŠè©±ã—ã—ã¾ã™ï¼
      </p>
    </section>

    <!-- LINEä¸­èº«ã‚µãƒ³ãƒ—ãƒ« -->
    <section class="section">
      <h2>ğŸ”µ å®Ÿéš›ã®é…ä¿¡ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆç™»éŒ²å¾Œã™ãå±Šãã¾ã™ï¼‰</h2>
      <img class="shot" src="/images/Lite.jpg?v=4" alt="LINEãƒˆãƒ¼ã‚¯ç”»é¢ã®ã‚µãƒ³ãƒ—ãƒ«">
      <div class="trust">
        <div class="card">ğŸ›¡ï¸ è¿·æƒ‘é…ä¿¡ãªã—ï¼ã„ã¤ã§ã‚‚ãƒ–ãƒ­ãƒƒã‚¯OK</div>
        <div class="card">ğŸ« ãƒ¡ãƒ³ãƒãƒ¼é™å®šã®å…ˆè¡Œæ¡ˆå†…ãƒ»å„ªå¾…ã‚ã‚Š</div>
      </div>
    </section>

    <!-- ã“ã‚“ãªäººã« -->
    <section class="section">
      <h2>ğŸŒ± ã“ã‚“ãªæ–¹ã«ãŠã™ã™ã‚</h2>
      <ul class="benefits">
        <li><span class="icon">âœ…</span> å‰¯æ¥­ã‚„åƒãæ–¹ã«è¿·ã£ã¦ã„ã‚‹</li>
        <li><span class="icon">âœ…</span> ä»Šã®åå…¥ã«ä¸å®‰ãŒã‚ã‚‹</li>
        <li><span class="icon">âœ…</span> è‡ªç”±ãªãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç›®æŒ‡ã—ãŸã„</li>
      </ul>
      <div id="refView" class="refchip" style="display:none"></div>
    </section>
  </main>

  <!-- å›ºå®šCTAï¼šç”»åƒãƒãƒŠãƒ¼ã§ã‚¿ãƒƒãƒ—è¨ˆæ¸¬ -->
  <div class="cta">
    <div class="row">
      <p>å‹ã ã¡è¿½åŠ ã—ã¦ç‰¹å…¸PDFã‚’å—ã‘å–ã‚‹</p>
      <a id="ctaBtn" href="#">
        <img class="cta-img" src="/images/awabotaline.jpg" alt="å‹ã ã¡è¿½åŠ ">
      </a>
    </div>
  </div>

  <script>
    (function(){
      const GAS_URL = "https://script.google.com/macros/s/AKfycbxnGoVPhOWQ0MnWgYkjdtYmcWR4bqO-b30zMMunIcfGVN8PUPQNpcnXeYWnkNq71jCqJg/exec";

      const params = new URLSearchParams(location.search);
      const ref = params.get('ref') || 'ä¸æ˜';

      // ç´¹ä»‹è€…è¡¨ç¤ºï¼ˆä»»æ„ï¼‰
      const refView = document.getElementById('refView');
      if (params.get('ref')) {
        refView.style.display = 'inline-flex';
        refView.textContent = `ç´¹ä»‹è€…ï¼š${ref}`;
      }

      // LINEãƒªãƒ³ã‚¯ï¼ˆdeep link â†’ https fallbackï¼‰
      const LINE_ID  = "@479rnxap";
      const httpsURL = `https://line.me/R/ti/p/${encodeURIComponent(LINE_ID)}?ref=${encodeURIComponent(ref)}`;
      const deepURL  = `line://ti/p/${encodeURIComponent(LINE_ID)}`;

      const cta = document.getElementById('ctaBtn');
      cta.href = httpsURL;

      // ã‚¯ãƒªãƒƒã‚¯æ™‚ã ã‘ ref ã‚’GASã¸è¨˜éŒ²ï¼ˆsendBeaconå„ªå…ˆï¼‰
      function sendRefOnClick(){
        const payload = new URLSearchParams({
          ref,
          event: 'cta_click',
          ts: String(Date.now()),
          ua: navigator.userAgent
        }).toString();

        let sent = false;
        if (navigator.sendBeacon) sent = navigator.sendBeacon(`${GAS_URL}?${payload}`);
        if (!sent) {
          try {
            fetch(GAS_URL, {
              method: "POST",
              headers: { "Content-Type": "application/x-www-form-urlencoded" },
              body: payload,
              keepalive: true
            });
          } catch (e) {}
        }
      }

      cta.addEventListener('click', (e)=>{
        e.preventDefault();
        sendRefOnClick();                 // è¨˜éŒ²é€ä¿¡
        location.href = deepURL;          // ã‚¢ãƒ—ãƒªå„ªå…ˆ
        setTimeout(()=>{ location.href = httpsURL; }, 900); // å¤±æ•—æ™‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
      });

      // ===== slider logic =====
      (function setupSlider(){
        const root   = document.querySelector('.slider');
        if(!root) return;

        const slides = Array.from(root.querySelectorAll('.slide'));
        const dotsWrap = root.querySelector('.dots');

        // ãƒ‰ãƒƒãƒˆè‡ªå‹•ç”Ÿæˆ
        slides.forEach((_, idx) => {
          const b = document.createElement('button');
          b.className = 'dot' + (idx === 0 ? ' is-active' : '');
          b.setAttribute('role','tab');
          b.setAttribute('aria-selected', idx === 0 ? 'true' : 'false');
          b.setAttribute('aria-controls', `slide-${idx+1}`);
          b.tabIndex = idx === 0 ? 0 : -1;
          dotsWrap.appendChild(b);
        });

        const dots = Array.from(root.querySelectorAll('.dot'));
        const prev = root.querySelector('.nav.prev');
        const next = root.querySelector('.nav.next');

        let i = 0;
        let timer = null;
        const INTERVAL = 3500;

        function show(idx){
          slides[i].classList.remove('is-active');
          dots[i]?.classList.remove('is-active');
          dots[i]?.setAttribute('aria-selected','false');
          dots[i]?.setAttribute('tabindex','-1');

          i = (idx + slides.length) % slides.length;

          slides[i].classList.add('is-active');
          dots[i]?.classList.add('is-active');
          dots[i]?.setAttribute('aria-selected','true');
          dots[i]?.setAttribute('tabindex','0');
        }
        const nextSlide = ()=> show(i+1);
        const prevSlide = ()=> show(i-1);

        function start(){ stop(); timer = setInterval(nextSlide, INTERVAL); }
        function stop(){ if(timer) clearInterval(timer); }

        dots.forEach((d, di)=> d.addEventListener('click', ()=>{ show(di); start(); }));
        prev?.addEventListener('click', ()=>{ prevSlide(); start(); });
        next?.addEventListener('click', ()=>{ nextSlide(); start(); });

        // ã‚¹ãƒ¯ã‚¤ãƒ—
        let sx=0, dx=0;
        root.addEventListener('touchstart', e=>{ sx = e.touches[0].clientX; dx=0; stop(); }, {passive:true});
        root.addEventListener('touchmove',  e=>{ dx = e.touches[0].clientX - sx; }, {passive:true});
        root.addEventListener('touchend',   ()=>{ if(Math.abs(dx)>40){ dx<0 ? nextSlide() : prevSlide(); } start(); });

        // ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆå†…ã®ã¿å‹•ä½œ
        const io = new IntersectionObserver((entries)=>{
          entries.forEach(en=> en.isIntersecting ? start() : stop());
        }, {threshold:.3});
        io.observe(root);

        start();
      })();
    })();
  </script>
</body>
</html>
